{"version":3,"file":"static/js/226.0d7b937d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","webpack://react-homework-template/./src/components/BackLink/BackLink.module.css?aa43","components/BackLink/BackLink.jsx","pages/MovieDetails/MovieDetails.js","services/fetchApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__Ys+c9\",\"description\":\"MovieDetails_description__33mrB\",\"item\":\"MovieDetails_item__mbUY+\",\"subtitle\":\"MovieDetails_subtitle__NWwoQ\",\"subtext\":\"MovieDetails_subtext__cdi3S\",\"link\":\"MovieDetails_link__U+v+7\"};","// extracted by mini-css-extract-plugin\nexport default {\"backlink\":\"BackLink_backlink__L1pu8\"};","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { HiArrowLeft } from 'react-icons/hi';\nimport styles from './BackLink.module.css';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <Link to={to} className={styles.backlink}>\n      <HiArrowLeft size=\"24\" />\n      {children}\n    </Link>\n  );\n};\n\nBackLink.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import { Suspense, useEffect, useState } from 'react';\nimport { Outlet, useLocation } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport styles from './MovieDetails.module.css';\nimport { fetchMovieById } from 'services/fetchApi';\nimport { BackLink } from 'components/BackLink/BackLink';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const [showLoade, setShowLoader] = useState(false);\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  const backLinkHref = location.state?.from ?? '/home';\n\n  useEffect(() => {\n    const getMovieById = async movieId => {\n      try {\n        setShowLoader(true);\n        const movieData = await fetchMovieById(movieId);\n        setMovie(movieData);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setShowLoader(false);\n      }\n    };\n    getMovieById(movieId);\n  }, [movieId]);\n\n  const poster = poster_path => {\n    if (poster_path === null) {\n      return 'https://via.placeholder.com/300sx450.jpg';\n    }\n    return `https://image.tmdb.org/t/p/w300${poster_path}`;\n  };\n\n  return (\n    <main>\n      {error && <p>Try again</p>}\n      {showLoade && <div>Load info</div>}\n      {movie && !showLoade && (\n        <>\n          <BackLink to={backLinkHref}>Back</BackLink>\n          <div className={styles.container}>\n            <div>\n              <img\n                src={`${poster(movie.poster_path)}`}\n                alt={`${movie.title || movie.original_title || movie.name}`}\n              />\n            </div>\n            <div>\n              <div className={styles.description}>\n                <h2>\n                  {`${movie.title || movie.original_title || movie.name} `}\n                  {`(${parseInt(movie.release_date)})`}\n                </h2>\n                <ul>\n                  <li className={styles.item}>\n                    <p className={styles.subtitle}>Vote / Votes</p>\n                    <p className={styles.subtext}>\n                      <span>{`${movie.vote_average.toFixed(1)}`}</span>\n                      <span> / </span>\n                      <span>{`${movie.vote_count}`}</span>\n                    </p>\n                  </li>\n                  <li>\n                    <p className={styles.subtitle}>Popularity</p>\n                    <p className={styles.subtext}>{`${movie.popularity.toFixed(\n                      1\n                    )}`}</p>\n                  </li>\n                  <li>\n                    <p className={styles.subtitle}>Overview</p>\n                    <p className={styles.subtext}>{`${movie.overview}`}</p>\n                  </li>\n                  <li>\n                    <p className={styles.subtitle}>Genres</p>\n                    <p className={styles.subtext}>{`${movie.genres\n                      .map(({ name }) => name)\n                      .join(', ')}`}</p>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <ul>\n            <li>\n              <NavLink\n                to=\"cast\"\n                state={{ from: location.state?.from ?? '/cast' }}\n                className={styles.link}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                to=\"reviews\"\n                state={{ from: location.state?.from ?? '/reviews' }}\n                className={styles.link}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n          <Suspense fallback={null}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = '55a2d7d76d61e3157b45a39f51d021cb';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport async function fetchTrendingMovies() {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n\n  const response = await axios.get('/trending/all/day', { params });\n  const data = response.data;\n\n  return data;\n}\n\nexport async function fetchMovieById(movieId) {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n\n  const response = await axios.get(`/movie/${movieId}`, { params });\n  const data = response.data;\n\n  return data;\n}\n\nexport async function fetchMovieByName(movieName) {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n    query: movieName,\n  };\n\n  const response = await axios.get(`/search/movie`, { params });\n  const data = response.data;\n\n  return data;\n}\n\nexport async function fetchCast(movieId) {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n\n  const response = await axios.get(`/movie/${movieId}/credits`, { params });\n  const data = response.data;\n\n  return data;\n}\n\nexport async function fetchReviews(movieId) {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n\n  const response = await axios.get(`/movie/${movieId}/reviews`, { params });\n  const data = response.data;\n\n  return data;\n}\n"],"names":["BackLink","to","children","className","styles","size","useState","movie","setMovie","error","setError","showLoade","setShowLoader","movieId","useParams","location","useLocation","backLinkHref","state","from","useEffect","getMovieById","fetchMovieById","movieData","poster_path","src","alt","title","original_title","name","parseInt","release_date","vote_average","toFixed","vote_count","popularity","overview","genres","map","join","Suspense","fallback","API_KEY","fetchTrendingMovies","params","api_key","language","axios","response","data","fetchMovieByName","movieName","query","fetchCast","fetchReviews"],"sourceRoot":""}